# Copyright (c) Mysten Labs, Inc.
# SPDX-License-Identifier: Apache-2.0

query getTypeLayout($type: String!) {
    type(type: $type) {
        layout
    }
}

query getDynamicFieldObject($parentId: SuiAddress!, $name: DynamicFieldName!) {
    address(address: $parentId) {
        dynamicObjectField(name: $name) {
            value {
                __typename
                ... on MoveObject {
                    owner {
                        __typename
                        ... on ObjectOwner {
                            address {
                                asObject {
                                    address
                                    digest
                                    version
                                    storageRebate
                                    owner {
                                        __typename
                                        ... on ObjectOwner {
                                            address {
                                                address
                                            }
                                        }
                                    }
                                    previousTransaction {
                                        digest
                                    }
                                    asMoveObject {
                                        contents {
                                            json
                                            type {
                                                repr
                                                layout
                                            }
                                        }
                                        hasPublicTransfer
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}